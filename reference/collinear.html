<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Automated multicollinearity management — collinear • collinear</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Automated multicollinearity management — collinear"><meta name="description" content="Automates multicollinearity management in data frames with numeric and categorical predictors by combining four methods:
Pairwise correlation filtering: Pearson, Spearman, and Cramer's V statistics to identify pairs of highly correlated predictors.
Variance Inflation Factor (VIF) filtering: identifies predictors that are linear combinations of other predictors.
Target encoding: to transform categorical predictors to numeric using a numeric variable as reference.
Flexible prioritization method: to help the user select a meaningful set of non-correlated predictors.


The pairwise correlation filtering is implemented in cor_select(). This function applies a recursive forward selection algorithm to keep predictors with a Pearson correlation with all other selected predictors lower than the value of the argument max_cor.  When two predictors are correlated above this threshold, the one with the lowest preference order is removed. At this stage, if preference_order is NULL, predictors are ranked from lower to higher sum of absolute pairwise correlation with the other predictors.
The VIF-based filtering is implemented in vif_select(), which removes variables and recomputes VIF scores iteratively, until all variables in the resulting selection have a VIF below the value of the argument max_vif. The VIF for a given variable y is computed as 1/(1-R2), where R2 is the R-squared of a multiple regression model fitted using y as response against the other predictors. The equation can be interpreted as &quot;the rate of perfect model's R-squared to the unexplained variance of this model&quot;. The possible range of VIF values is (1, Inf], but the recommended thresholds for maximum VIF (argument max_vif) may vary, being 2.5, 5, and 10 the values most commonly mentioned in the relevant bibliography. At this stage, if preference_order is NULL, predictors are ranked from lower to higher Variance Inflation Factor.
When a 'response' argument is provided, categorical predictors are converted to numeric via target encoding with the function target_encoding_lab(), and all predictors are then handled as numeric during the multicollinearity filtering. When the 'response' argument is not provided, categorical variables are ignored. However, in such case, the function cor_select() can handle categorical variables, albeit with a lower computation speed.
The argument preference_order allows prioritizing variables that might be interesting or even required for a given analysis. If preference_order is not provided, then the predictors are ranked from lower to higher sum of their absolute correlations with the other predictors in cor_select(), and by their VIF in vif_select(), and removed one by one until the maximum R-squared of the correlation matrix is lower than max_cor and the maximum VIF is below max_vif.
Please note that near-zero variance columns are identified by identify_zero_variance_predictors(), and ignored by collinear(), cor_select(), and vif_select()."><meta property="og:description" content="Automates multicollinearity management in data frames with numeric and categorical predictors by combining four methods:
Pairwise correlation filtering: Pearson, Spearman, and Cramer's V statistics to identify pairs of highly correlated predictors.
Variance Inflation Factor (VIF) filtering: identifies predictors that are linear combinations of other predictors.
Target encoding: to transform categorical predictors to numeric using a numeric variable as reference.
Flexible prioritization method: to help the user select a meaningful set of non-correlated predictors.


The pairwise correlation filtering is implemented in cor_select(). This function applies a recursive forward selection algorithm to keep predictors with a Pearson correlation with all other selected predictors lower than the value of the argument max_cor.  When two predictors are correlated above this threshold, the one with the lowest preference order is removed. At this stage, if preference_order is NULL, predictors are ranked from lower to higher sum of absolute pairwise correlation with the other predictors.
The VIF-based filtering is implemented in vif_select(), which removes variables and recomputes VIF scores iteratively, until all variables in the resulting selection have a VIF below the value of the argument max_vif. The VIF for a given variable y is computed as 1/(1-R2), where R2 is the R-squared of a multiple regression model fitted using y as response against the other predictors. The equation can be interpreted as &quot;the rate of perfect model's R-squared to the unexplained variance of this model&quot;. The possible range of VIF values is (1, Inf], but the recommended thresholds for maximum VIF (argument max_vif) may vary, being 2.5, 5, and 10 the values most commonly mentioned in the relevant bibliography. At this stage, if preference_order is NULL, predictors are ranked from lower to higher Variance Inflation Factor.
When a 'response' argument is provided, categorical predictors are converted to numeric via target encoding with the function target_encoding_lab(), and all predictors are then handled as numeric during the multicollinearity filtering. When the 'response' argument is not provided, categorical variables are ignored. However, in such case, the function cor_select() can handle categorical variables, albeit with a lower computation speed.
The argument preference_order allows prioritizing variables that might be interesting or even required for a given analysis. If preference_order is not provided, then the predictors are ranked from lower to higher sum of their absolute correlations with the other predictors in cor_select(), and by their VIF in vif_select(), and removed one by one until the maximum R-squared of the correlation matrix is lower than max_cor and the maximum VIF is below max_vif.
Please note that near-zero variance columns are identified by identify_zero_variance_predictors(), and ignored by collinear(), cor_select(), and vif_select()."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">collinear</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/blasbenito/collinear/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Automated multicollinearity management</h1>
      <small class="dont-index">Source: <a href="https://github.com/blasbenito/collinear/blob/main/R/collinear.R" class="external-link"><code>R/collinear.R</code></a></small>
      <div class="d-none name"><code>collinear.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Automates multicollinearity management in data frames with numeric and categorical predictors by combining four methods:</p><ul><li><p>Pairwise correlation filtering: Pearson, Spearman, and Cramer's V statistics to identify pairs of highly correlated predictors.</p></li>
<li><p>Variance Inflation Factor (VIF) filtering: identifies predictors that are linear combinations of other predictors.</p></li>
<li><p>Target encoding: to transform categorical predictors to numeric using a numeric variable as reference.</p></li>
<li><p>Flexible prioritization method: to help the user select a meaningful set of non-correlated predictors.</p></li>
</ul><p>The pairwise correlation filtering is implemented in <code><a href="cor_select.html">cor_select()</a></code>. This function applies a recursive forward selection algorithm to keep predictors with a Pearson correlation with all other selected predictors lower than the value of the argument <code>max_cor</code>.  When two predictors are correlated above this threshold, the one with the lowest preference order is removed. At this stage, if <code>preference_order</code> is NULL, predictors are ranked from lower to higher sum of absolute pairwise correlation with the other predictors.</p>
<p>The VIF-based filtering is implemented in <code><a href="vif_select.html">vif_select()</a></code>, which removes variables and recomputes VIF scores iteratively, until all variables in the resulting selection have a VIF below the value of the argument <code>max_vif</code>. The VIF for a given variable <code>y</code> is computed as <code>1/(1-R2)</code>, where <code>R2</code> is the R-squared of a multiple regression model fitted using <code>y</code> as response against the other predictors. The equation can be interpreted as "the rate of perfect model's R-squared to the unexplained variance of this model". The possible range of VIF values is (1, Inf], but the recommended thresholds for maximum VIF (argument <code>max_vif</code>) may vary, being 2.5, 5, and 10 the values most commonly mentioned in the relevant bibliography. At this stage, if <code>preference_order</code> is NULL, predictors are ranked from lower to higher Variance Inflation Factor.</p>
<p>When a 'response' argument is provided, categorical predictors are converted to numeric via target encoding with the function <code><a href="target_encoding_lab.html">target_encoding_lab()</a></code>, and all predictors are then handled as numeric during the multicollinearity filtering. When the 'response' argument is not provided, categorical variables are ignored. However, in such case, the function <code><a href="cor_select.html">cor_select()</a></code> can handle categorical variables, albeit with a lower computation speed.</p>
<p>The argument <code>preference_order</code> allows prioritizing variables that might be interesting or even required for a given analysis. If <code>preference_order</code> is not provided, then the predictors are ranked from lower to higher sum of their absolute correlations with the other predictors in <code><a href="cor_select.html">cor_select()</a></code>, and by their VIF in <code><a href="vif_select.html">vif_select()</a></code>, and removed one by one until the maximum R-squared of the correlation matrix is lower than <code>max_cor</code> and the maximum VIF is below <code>max_vif</code>.</p>
<p>Please note that near-zero variance columns are identified by <code><a href="identify_zero_variance_predictors.html">identify_zero_variance_predictors()</a></code>, and ignored by <code>collinear()</code>, <code><a href="cor_select.html">cor_select()</a></code>, and <code><a href="vif_select.html">vif_select()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">collinear</span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  response <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  predictors <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  preference_order <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cor_method <span class="op">=</span> <span class="st">"pearson"</span>,</span>
<span>  max_cor <span class="op">=</span> <span class="fl">0.75</span>,</span>
<span>  max_vif <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  encoding_method <span class="op">=</span> <span class="st">"mean"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>(required; data frame) A data frame with numeric and/or character predictors predictors, and optionally, a response variable. Default: NULL.</p></dd>


<dt id="arg-response">response<a class="anchor" aria-label="anchor" href="#arg-response"></a></dt>
<dd><p>(recommended, character string) Name of a numeric response variable. Character response variables are ignored. Please, see 'Details' to better understand how providing this argument or not leads to different results when there are character variables in 'predictors'. Default: NULL.</p></dd>


<dt id="arg-predictors">predictors<a class="anchor" aria-label="anchor" href="#arg-predictors"></a></dt>
<dd><p>(optional; character vector) character vector with predictor names in 'df'. If omitted, all columns of 'df' are used as predictors. Default: NULL</p></dd>


<dt id="arg-preference-order">preference_order<a class="anchor" aria-label="anchor" href="#arg-preference-order"></a></dt>
<dd><p>(optional; character vector) vector with column names in 'predictors' in the desired preference order, or result of the function <code><a href="preference_order.html">preference_order()</a></code>. Allows defining a priority order for selecting predictors, which can be particularly useful when some predictors are more critical for the analysis than others. Predictors not included in this argument are ranked by their Variance Inflation Factor. Default: NULL.</p></dd>


<dt id="arg-cor-method">cor_method<a class="anchor" aria-label="anchor" href="#arg-cor-method"></a></dt>
<dd><p>(optional; character string) Method used to compute pairwise correlations. Accepted methods are "pearson" (with a recommended minimum of 30 rows in 'df') or "spearman" (with a recommended minimum of 10 rows in 'df'). Default: "pearson".</p></dd>


<dt id="arg-max-cor">max_cor<a class="anchor" aria-label="anchor" href="#arg-max-cor"></a></dt>
<dd><p>(optional; numeric) Maximum correlation allowed between any pair of predictors. Higher values return larger number of predictors with higher multicollinearity. Default: <code>0.75</code></p></dd>


<dt id="arg-max-vif">max_vif<a class="anchor" aria-label="anchor" href="#arg-max-vif"></a></dt>
<dd><p>(optional, numeric) Numeric with recommended values between 2.5 and 10 defining the maximum VIF allowed for any given predictor in the output dataset. Higher VIF thresholds should result in a higher number of selected variables. Default: 5.</p></dd>


<dt id="arg-encoding-method">encoding_method<a class="anchor" aria-label="anchor" href="#arg-encoding-method"></a></dt>
<dd><p>(optional; character string). Name of the target encoding method to convert character and factor predictors to numeric. One of "mean", "rank", "loo", "rnorm" (see <code><a href="target_encoding_lab.html">target_encoding_lab()</a></code> for further details). Default: "mean"</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Character vector with the names of uncorrelated predictors.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>

<ul><li><p>David A. Belsley, D.A., Kuh, E., Welsch, R.E. (1980). Regression Diagnostics: Identifying Influential Data and Sources of Collinearity. John Wiley &amp; Sons. <a href="https://doi.org/10.1002/0471725153" class="external-link">doi:10.1002/0471725153</a>
.</p></li>
<li><p>Micci-Barreca, D. (2001) A Preprocessing Scheme for High-Cardinality Categorical Attributes in Classification and Prediction Problems. SIGKDD Explor. Newsl. 3, 1, 27-32 <a href="https://doi.org/10.1145/507533.507538" class="external-link">doi:10.1145/507533.507538</a></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Blas M. Benito</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">vi</span>,</span></span>
<span class="r-in"><span>  <span class="va">vi_predictors</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#subset to limit example run time</span></span></span>
<span class="r-in"><span><span class="va">vi</span> <span class="op">&lt;-</span> <span class="va">vi</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#without response</span></span></span>
<span class="r-in"><span><span class="co">#without preference_order</span></span></span>
<span class="r-in"><span><span class="co">#permissive max_cor and max_vif</span></span></span>
<span class="r-in"><span><span class="co">#only numeric variables in output</span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span> <span class="op">&lt;-</span> <span class="fu">collinear</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">vi</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">vi_predictors</span>,</span></span>
<span class="r-in"><span>  max_cor <span class="op">=</span> <span class="fl">0.8</span>,</span></span>
<span class="r-in"><span>  max_vif <span class="op">=</span> <span class="fl">10</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "topo_diversity"             "country_gdp"               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3] "topo_slope"                 "country_population"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] "soil_soc"                   "soil_clay"                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] "soil_sand"                  "topo_elevation"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] "soil_nitrogen"              "rainfall_range"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "soil_ph"                    "growing_season_temperature"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] "rainfall_min"               "swi_range"                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15] "humidity_range"             "soil_temperature_max"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17] "evapotranspiration_range"   "swi_min"                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [19] "soil_temperature_min"       "solar_rad_max"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21] "solar_rad_min"              "cloud_cover_min"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [23] "cloud_cover_range"         </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#without response</span></span></span>
<span class="r-in"><span><span class="co">#without preference_order</span></span></span>
<span class="r-in"><span><span class="co">#restrictive max_cor and max_vif</span></span></span>
<span class="r-in"><span><span class="co">#only numeric variables in output</span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span> <span class="op">&lt;-</span> <span class="fu">collinear</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">vi</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">vi_predictors</span>,</span></span>
<span class="r-in"><span>  max_cor <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>  max_vif <span class="op">=</span> <span class="fl">2.5</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "soil_clay"                  "country_population"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3] "topo_slope"                 "soil_soc"                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] "humidity_range"             "topo_elevation"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] "soil_silt"                  "growing_season_temperature"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] "swi_max"                    "cloud_cover_range"         </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#with response</span></span></span>
<span class="r-in"><span><span class="co">#without preference_order</span></span></span>
<span class="r-in"><span><span class="co">#restrictive max_cor and max_vif</span></span></span>
<span class="r-in"><span><span class="co">#numerics and categorical variables in output</span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span> <span class="op">&lt;-</span> <span class="fu">collinear</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">vi</span>,</span></span>
<span class="r-in"><span>  response <span class="op">=</span> <span class="st">"vi_mean"</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">vi_predictors</span>,</span></span>
<span class="r-in"><span>  max_cor <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>  max_vif <span class="op">=</span> <span class="fl">2.5</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "country_income"             "soil_clay"                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3] "country_population"         "topo_slope"                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] "soil_soc"                   "continent"                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] "topo_elevation"             "humidity_range"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] "growing_season_temperature" "soil_silt"                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "cloud_cover_range"          "soil_type"                 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#with response</span></span></span>
<span class="r-in"><span><span class="co">#with user-defined preference_order</span></span></span>
<span class="r-in"><span><span class="co">#restrictive max_cor and max_vif</span></span></span>
<span class="r-in"><span><span class="co">#numerics and categorical variables in output</span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span> <span class="op">&lt;-</span> <span class="fu">collinear</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">vi</span>,</span></span>
<span class="r-in"><span>  response <span class="op">=</span> <span class="st">"vi_mean"</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">vi_predictors</span>,</span></span>
<span class="r-in"><span>  preference_order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"soil_temperature_mean"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"swi_mean"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"rainfall_mean"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"evapotranspiration_mean"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  max_cor <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>  max_vif <span class="op">=</span> <span class="fl">2.5</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "soil_temperature_mean" "swi_mean"              "country_income"       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4] "soil_clay"             "topo_slope"            "country_population"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] "continent"             "topo_elevation"        "soil_soc"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10] "humidity_range"        "soil_silt"             "cloud_cover_range"    </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#with response</span></span></span>
<span class="r-in"><span><span class="co">#with automated preference_order</span></span></span>
<span class="r-in"><span><span class="co">#restrictive max_cor and max_vif</span></span></span>
<span class="r-in"><span><span class="co">#numerics and categorical variables in output</span></span></span>
<span class="r-in"><span><span class="va">preference.order</span> <span class="op">&lt;-</span> <span class="fu"><a href="preference_order.html">preference_order</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">vi</span>,</span></span>
<span class="r-in"><span>  response <span class="op">=</span> <span class="st">"vi_mean"</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">vi_predictors</span>,</span></span>
<span class="r-in"><span>  f <span class="op">=</span> <span class="va">f_rsquared</span>, <span class="co">#cor(response, predictor)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span> <span class="op">&lt;-</span> <span class="fu">collinear</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">vi</span>,</span></span>
<span class="r-in"><span>  response <span class="op">=</span> <span class="st">"vi_mean"</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">vi_predictors</span>,</span></span>
<span class="r-in"><span>  preference_order <span class="op">=</span> <span class="va">preference.order</span>,</span></span>
<span class="r-in"><span>  max_cor <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>  max_vif <span class="op">=</span> <span class="fl">2.5</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "biogeo_ecoregion"   "continent"          "cloud_cover_range" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4] "solar_rad_range"    "topo_diversity"     "soil_clay"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] "humidity_range"     "country_income"     "topo_elevation"    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10] "soil_silt"          "country_population"</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Blas M. Benito.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

