<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • collinear</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Changelog"><meta property="og:image" content="https://blasbenito.github.io/collinear/logo.png"><link rel="stylesheet" href="extra.css"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">collinear</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/how_it_works.html">collinear: How It Works</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Blog Posts</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.blasbenito.com/post/multicollinearity-model-interpretability/">Multicollinearity Hinders Model Interpretability</a></li>
    <li><a class="external-link dropdown-item" href="https://www.blasbenito.com/post/variance-inflation-factor/">Everything About Variance Inflation Factors</a></li>
    <li><a class="external-link dropdown-item" href="https://www.blasbenito.com/post/target-encoding/">Mapping Categorical Predictors to Numeric</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/blasbenito/collinear/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/blasbenito/collinear/blob/v2.0.0/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.0" id="collinear-200">collinear 2.0.0<a class="anchor" aria-label="anchor" href="#collinear-200"></a></h2><p class="text-muted">CRAN release: 2024-11-08</p>
<p><strong>Warning</strong>: This version includes several breaking changes.</p>
<div class="section level3">
<h3 id="main-changes-2-0-0">Main Changes<a class="anchor" aria-label="anchor" href="#main-changes-2-0-0"></a></h3>
<div class="section level4">
<h4 id="function-preference_order-2-0-0">Function <code>preference_order()</code>
<a class="anchor" aria-label="anchor" href="#function-preference_order-2-0-0"></a></h4>
<ul><li><p>Now works with any combination of categorical and numeric responses and predictors. Previously, only numeric responses were considered valid.</p></li>
<li><p>Accepts a character vector with multiple response variables and returns a named list of data frames in such cases.</p></li>
<li>
<p>All functions used as input for the argument <code>f</code> have been rewritten, with extended coverage of cases. These functions have also been consistently renamed following these rules:</p>
<ul><li>A code indicating the metric: <code>r2</code> for R-squared, <code>auc</code> for area under the curve (for binomial responses), and <code>v</code> for Cramer’s V (for categorical responses).</li>
<li>A code indicating the model: <code>spearman</code>, <code>pearson</code>, and <code>v</code> for direct association; <code>glm</code> for GLMs; <code>gam</code> for GAMs; <code>rf</code> for Random Forest models; and <code>rpart</code> for Recursive Partition Trees.</li>
<li>The model family for GLMs or GAMs: <code>gaussian</code> for numeric responses, <code>binomial</code> for binomial responses, and <code>poisson</code> for integer counts.</li>
<li>The term <code>poly2</code> for GLMs with second-degree polynomials.</li>
</ul></li>
<li><p>When <code>f = NULL</code>, the function <code><a href="../reference/f_auto.html">f_auto()</a></code> determines an appropriate default adapted to the types of the response and predictors.</p></li>
<li><p>Now issues a warning if predictors show a suspiciously high association with the response. The sensitivity of this test is controlled by the new argument <code>warn_limit</code>.</p></li>
<li><p>Parallelization setup is now managed via <code><a href="https://future.futureverse.org/reference/plan.html" class="external-link">future::plan()</a></code>, and a progress bar is available through <code><a href="https://progressr.futureverse.org/reference/handlers.html" class="external-link">progressr::handlers()</a></code>.</p></li>
</ul></div>
<div class="section level4">
<h4 id="function-collinear-2-0-0">Function <code>collinear()</code>
<a class="anchor" aria-label="anchor" href="#function-collinear-2-0-0"></a></h4>
<ul><li><p>Now works with any combination of categorical and numeric responses and predictors. Previously, only numeric responses were valid. Categorical predictors are excluded from VIF analysis but are returned in the output if they pass the pairwise correlation test.</p></li>
<li><p>Accepts a character vector with multiple response variables and returns a named list of data frames in such cases.</p></li>
<li><p>The preference order is now computed internally if <code>preference_order = NULL</code> (default). Therefore, all relevant arguments of the function <code><a href="../reference/preference_order.html">preference_order()</a></code> have been added to <code><a href="../reference/collinear.html">collinear()</a></code> with the prefix “preference_”.</p></li>
<li><p>Parallelization setup is now managed via <code><a href="https://future.futureverse.org/reference/plan.html" class="external-link">future::plan()</a></code>, with a progress bar provided by <code><a href="https://progressr.futureverse.org/reference/handlers.html" class="external-link">progressr::handlers()</a></code>. This setup is leveraged by <code><a href="../reference/preference_order.html">preference_order()</a></code> and <code><a href="../reference/cor_select.html">cor_select()</a></code>.</p></li>
<li><p>Target encoding can be disabled by setting the <code>encoding_method</code> argument to <code>NULL</code>.</p></li>
<li><p>VIF filtering can be disabled by setting <code>max_vif</code> to <code>NULL</code>.</p></li>
<li><p>Pairwise correlation filtering can be disabled by setting <code>max_cor</code> to <code>NULL</code>.</p></li>
</ul></div>
<div class="section level4">
<h4 id="function-cor_select-2-0-0">Function <code>cor_select()</code>
<a class="anchor" aria-label="anchor" href="#function-cor_select-2-0-0"></a></h4>
<ul><li><p>A new robust forward selection algorithm ensures that the most important predictors are retained after multicollinearity filtering when <code>preference_order</code> is used.</p></li>
<li><p>Target encoding, along with the <code>response</code> and <code>encoding_method</code> arguments, has been removed from this function. This change also applies to <code><a href="../reference/cor_df.html">cor_df()</a></code>.</p></li>
<li><p>The function now calls <code><a href="../reference/validate_data_cor.html">validate_data_cor()</a></code> to ensure that the data is suitable for pairwise correlation multicollinearity filtering.</p></li>
<li><p>Parallelization setup is now managed via <code><a href="https://future.futureverse.org/reference/plan.html" class="external-link">future::plan()</a></code>, with a progress bar provided by <code><a href="https://progressr.futureverse.org/reference/handlers.html" class="external-link">progressr::handlers()</a></code>. This setup is used by <code><a href="../reference/cor_df.html">cor_numeric_vs_categorical()</a></code> and <code><a href="../reference/cor_df.html">cor_categorical_vs_categorical()</a></code> to speed up pairwise correlation computation.</p></li>
</ul></div>
<div class="section level4">
<h4 id="function-cor_df-2-0-0">Function <code>cor_df()</code>
<a class="anchor" aria-label="anchor" href="#function-cor_df-2-0-0"></a></h4>
<ul><li>Fixed a bug that prevented <code><a href="../reference/cor_df.html">cor_numeric_vs_categorical()</a></code> and <code><a href="../reference/cor_df.html">cor_categorical_vs_categorical()</a></code> from triggering properly.</li>
</ul></div>
<div class="section level4">
<h4 id="function-vif_select-2-0-0">Function <code>vif_select()</code>
<a class="anchor" aria-label="anchor" href="#function-vif_select-2-0-0"></a></h4>
<ul><li><p>A new robust forward selection algorithm better preserves predictors with higher preference when <code>preference_order</code> is used.</p></li>
<li><p>Target encoding, along with the <code>response</code> and <code>encoding_method</code> arguments, has been removed. As a result, this function now only works with numeric predictors. This change also applies to <code><a href="../reference/vif_df.html">vif_df()</a></code>.</p></li>
<li><p>The new function <code><a href="../reference/validate_data_vif.html">validate_data_vif()</a></code> is called to ensure the data is suitable for VIF-based multicollinearity filtering. Attempting a VIF analysis in a data frame with more columns than rows now returns an error.</p></li>
</ul></div>
<div class="section level4">
<h4 id="function-target_encoding_lab-and-companion-functions-2-0-0">Function <code>target_encoding_lab()</code> and Companion Functions<a class="anchor" aria-label="anchor" href="#function-target_encoding_lab-and-companion-functions-2-0-0"></a></h4>
<ul><li><p>Completely rewritten for parallelization using <code><a href="https://future.futureverse.org/reference/plan.html" class="external-link">future::plan()</a></code> and a progress bar via <code><a href="https://progressr.futureverse.org/reference/handlers.html" class="external-link">progressr::handlers()</a></code>.</p></li>
<li><p>The default encoding method is now “loo” (leave-one-out), as it provides more useful results in most cases.</p></li>
<li><p>The functions <code><a href="../reference/target_encoding_methods.html">target_encoding_mean()</a></code>, <code><a href="../reference/target_encoding_methods.html">target_encoding_rank()</a></code>, and <code><a href="../reference/target_encoding_methods.html">target_encoding_loo()</a></code> have been simplified to the bare minimum, with all redundant logic moved to <code><a href="../reference/target_encoding_lab.html">target_encoding_lab()</a></code>.</p></li>
<li><p>NA cases in the predictor to encode are now grouped under “NA”.</p></li>
<li><p>The “rnorm” method has been deprecated, and the function <code>target_encoding_rnorm()</code> has been removed from the package.</p></li>
</ul></div>
</div>
<div class="section level3">
<h3 id="other-changes-2-0-0">Other Changes<a class="anchor" aria-label="anchor" href="#other-changes-2-0-0"></a></h3>
<ul><li><p>Added the function <code><a href="../reference/cor_clusters.html">cor_clusters()</a></code> to group predictors using <code><a href="https://rdrr.io/r/stats/hclust.html" class="external-link">stats::hclust()</a></code> based on their pairwise correlation matrix.</p></li>
<li><p>Streamlined the package documentation using roxygen methods to inherit sections and parameters.</p></li>
<li><p>Removed <code>dplyr</code> as a dependency.</p></li>
<li><p>Added <code>mgcv</code>, <code>rpart</code>, and <code>ranger</code> to Imports to support all <code>f_xxx()</code> functions from the start.</p></li>
<li><p>All warnings in data validation functions have been converted to messages. These messages now indicate the function that generated them, aiding in debugging and ensuring that messages and warnings are printed in the correct order.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.1" id="collinear-111">collinear 1.1.1<a class="anchor" aria-label="anchor" href="#collinear-111"></a></h2><p class="text-muted">CRAN release: 2023-12-08</p>
<p>Hotfix of issue with solve(tol = 0) in systems with no large double support (noLD). This one wasn’t fun.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0" id="collinear-110">collinear 1.1.0<a class="anchor" aria-label="anchor" href="#collinear-110"></a></h2><p class="text-muted">CRAN release: 2023-11-30</p>
<p>Added argument “smoothing” to <code><a href="../reference/target_encoding_methods.html">target_encoding_mean()</a></code> function to implement original target encoding method.</p>
<p>Added alias <code>f_rf_rsquared()</code> to the function <code>f_rf_deviance()</code>.</p>
<p>Added column “vi_binary” to <code>vi</code> as a binary version of “vi_mean”.</p>
<p>Added function <code>auc_score()</code> to compute the area under the curve of predictions from binary models.</p>
<p>Added function <code><a href="../reference/case_weights.html">case_weights()</a></code> to compute case weights when binary responses are unbalanced.</p>
<p>Added function <code>f_rf_auc_balanced()</code> to be used as input for the <code>f</code> argument of <code><a href="../reference/preference_order.html">preference_order()</a></code> when the response is binary and balanced.</p>
<p>Added function <code>f_rf_auc_unbalanced()</code> to be used as input for the <code>f</code> argument of <code><a href="../reference/preference_order.html">preference_order()</a></code> when the response is binary and unbalanced.</p>
<p>Added function <code>f_gam_auc_balanced()</code> to be used as input for the <code>f</code> argument of <code><a href="../reference/preference_order.html">preference_order()</a></code> when the response is binary and balanced.</p>
<p>Added function <code>f_gam_auc_unbalanced()</code> to be used as input for the <code>f</code> argument of <code><a href="../reference/preference_order.html">preference_order()</a></code> when the response is binary and unbalanced.</p>
<p>Added function <code>f_logistic_auc_balanced()</code> to be used as input for the <code>f</code> argument of <code><a href="../reference/preference_order.html">preference_order()</a></code> when the response is binary and balanced.</p>
<p>Added function <code>f_logistic_auc_unbalanced()</code> to be used as input for the <code>f</code> argument of <code><a href="../reference/preference_order.html">preference_order()</a></code> when the response is binary and unbalanced.</p>
<p>Fixed issue with perfect correlations in <code><a href="../reference/vif_df.html">vif_df()</a></code>. Now perfect correlations are replaced with 0.99 (for correlation == 1) and -0.99 (for correlation == -1) in the correlation matrix to avoid errors in <code><a href="https://rdrr.io/r/base/solve.html" class="external-link">solve()</a></code>.</p>
<p>Added the example dataset <code>toy</code>, derived from <code>vi</code>, but with known relationships between all variables.</p>
<p>Fixed issue in function cor_df() where many cases would be lost because the logic to remove diagonals was flawed, as all pairs with correlation == 1 were being removed.</p>
<p>Fixed issue in functions cor_select() and vif_select() where ignoring <code>predictors</code> and using only <code>df</code> would lead to empty selections.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.2" id="collinear-102">collinear 1.0.2<a class="anchor" aria-label="anchor" href="#collinear-102"></a></h2>
<p>This version fixes bugs in two functions: <code><a href="../reference/cor_select.html">cor_select()</a></code> and <code><a href="../reference/cor_df.html">cor_df()</a></code></p>
<p><strong><code><a href="../reference/cor_select.html">cor_select()</a></code></strong></p>
<ul><li><p>When only one variable was left in the correlation matrix, the one column matrix became a vector with no colnames, which yielded an error. Now, to avoid this issue, drop = FALSE is used in the matrix subsetting.</p></li>
<li><p>The previous version started removing predictors on a backwards fashion, from the last predictor in preference order, moving up one by one to the top. Under the wrong circumstances (low number of predictors, low max_cor, and high correlation between first and second predictors in preference order) this configuration would lead to keep only the first predictor, even when having others comply with the max_cor restriction lower down in the preference order. The new version produces smaller subsets of predictors with a higher diversity.</p></li>
</ul><p><strong><code><a href="../reference/cor_df.html">cor_df()</a></code></strong></p>
<ul><li>The data frame returned pairs of the same variable when cor_method was “spearman”. Fixed with a dplyr::filter(x != y).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.1" id="collinear-101">collinear 1.0.1<a class="anchor" aria-label="anchor" href="#collinear-101"></a></h2><p class="text-muted">CRAN release: 2023-10-24</p>
<p>Re-submission after minor CRAN comments.</p>
<p>Changes:</p>
<ul><li><p>version number bumped up to 1.0.1</p></li>
<li><p>removed if(interactive()){} from all <a href="https://github.com/examples" class="external-link">@examples</a>.</p></li>
<li><p>removed plot() call from the <a href="https://github.com/examples" class="external-link">@examples</a> of the function target_encoding_lab() because it was messing up pkgdown’s build. This piece of code triggered the comment “Please always make sure to reset to user’s options()” by the reviewer, so this should solve the issue.</p></li>
<li><p>made sure that all examples run in less than 5 seconds.</p></li>
<li><p>fixed a bug in which all functions would include the response as a predictor when ‘predictors = NULL’ and ‘response’ was a valid column of the input data frame.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="collinear-100">collinear 1.0.0<a class="anchor" aria-label="anchor" href="#collinear-100"></a></h2>
<p>First functional version of the package submitted to CRAN.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://blasbenito.com" class="external-link">Blas M. Benito</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

